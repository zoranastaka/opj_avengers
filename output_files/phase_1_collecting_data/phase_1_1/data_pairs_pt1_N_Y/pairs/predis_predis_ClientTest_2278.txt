    /**
     * @group disconnected
     */

    public function testCreatesNewCommandUsingSpecifiedCommandFactory(): void
    {
        $ping = $this->getCommandFactory()->create('ping', array());

        $commands = $this->getMockBuilder('Predis\Command\FactoryInterface')->getMock();
        $commands
            ->expects($this->once())
            ->method('create')
            ->with('ping', array())
            ->willReturn($ping);

        $client = new Client(null, array('commands' => $commands));
        $this->assertSame($ping, $client->createCommand('ping', array()));
    }
