    /**
     * @covers ::parse
     * @covers ::extractRecord
     * @covers ::extractFieldContent
     * @covers ::extractEnclosedFieldContent
     *
     * @dataProvider invalidCsvRecordProvider
     */

    public function testParsesLikeSplFileObjectInvalidCsv(string $string): void
    {
        $spl = new SplTempFileObject();
        $spl->fwrite($string);
        $csv = Reader::createFromFileObject($spl);
        $spl_result = iterator_to_array($csv);
        $csv->setEscape('');
        $polyfill_result = iterator_to_array($csv);
        self::assertEquals($spl_result, $polyfill_result);
    }
