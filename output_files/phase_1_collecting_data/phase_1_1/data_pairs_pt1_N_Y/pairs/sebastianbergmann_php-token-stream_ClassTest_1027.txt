    /**
     * @ticket https://github.com/sebastianbergmann/php-token-stream/issues/52
     */

    public function testAnonymousClassesAreHandledCorrectly2(): void
    {
        $ts = new PHP_Token_Stream(TEST_FILES_PATH . 'class_with_method_that_declares_anonymous_class2.php');

        $classes = $ts->getClasses();

        $this->assertEquals(['Test', 'AnonymousClass:4#23'], \array_keys($classes));
        $this->assertEquals(['methodOne', 'methodTwo'], \array_keys($classes['Test']['methods']));

        $this->assertEmpty($ts->getFunctions());
    }
