    /**
     * Register a slave after it's process started
     *
     * @param int $pid
     * @param ConnectionInterface $connection
     *
     * @return void
     */

    public function register($pid, ConnectionInterface $connection)
    {
        if ($this->status !== self::CREATED) {
            throw new \LogicException('Cannot register a slave that is not in created state');
        }

        $this->pid = $pid;
        $this->connection = $connection;

        $this->status = self::REGISTERED;
    }
