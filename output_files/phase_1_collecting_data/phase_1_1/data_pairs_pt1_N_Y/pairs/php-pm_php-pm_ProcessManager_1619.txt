    /**
     * Check if all slaves have become available
     */

    protected function allSlavesReady()
    {
        if ($this->status === self::STATE_STARTING || $this->status === self::STATE_EMERGENCY) {
            $readySlaves = $this->slaves->getByStatus(Slave::READY);
            $busySlaves = $this->slaves->getByStatus(Slave::BUSY);
            return \count($readySlaves) + \count($busySlaves) === $this->slaveCount;
        }

        return false;
    }
