    /**
     * {@inheritdoc}
     */

    public function getIterator()
    {
        $clients = array();
        $connection = $this->getConnection();

        if (!$connection instanceof \Traversable) {
            return new \ArrayIterator(array(
                (string) $connection => new static($connection, $this->getOptions())
            ));
        }

        foreach ($connection as $node) {
            $clients[(string) $node] = new static($node, $this->getOptions());
        }

        return new \ArrayIterator($clients);
    }
