	/**
	 * Register the class mocks to use.
	 *
	 * @param array $mocks An associative array where keys are class names and values are either factory callbacks (with any extra arguments that get_instance_of would accept) or objects.
	 *
	 * @throws \Exception Invalid parameter.
	 */

	public function register_class_mocks( array $mocks ) {
		foreach ( $mocks as $class_name => $mock ) {
			if ( ! is_string( $class_name ) || ( ! is_object( $mock ) && ! is_callable( $mock ) ) ) {
				throw new \Exception( 'MockableLegacyProxy::register_class_mocks: $mocks must be an associative array of class_name => object or factory callback.' );
			}
		}
