	/**
	 * Apply the reigstered hacks to the contents of a file.
	 *
	 * @param string $code Code content to hack.
	 * @param string $path Path of the file being hacked.
	 *
	 * @return string The code after applying all the registered hacks.
	 */

	private static function hack( $code, $path ) {
		foreach ( self::$hacks as $hack ) {
			if ( is_callable( $hack ) ) {
				$code = call_user_func( $hack, $code, $path );
			} else {
				$code = $hack->hack( $code, $path );
			}
		}
