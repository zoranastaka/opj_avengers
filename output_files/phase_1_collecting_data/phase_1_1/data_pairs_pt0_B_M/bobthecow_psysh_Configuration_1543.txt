    /**
     * Internal method for adding commands. This will set any new commands once
     * a Shell is available.
     */

    private function doAddCommands()
    {
        if (!empty($this->newCommands)) {
            $this->shell->addCommands($this->newCommands);
            $this->newCommands = [];
        }
    }
