    /**
     * @return resource
     */

    private static function openFile(string $filePath)
    {
        if (!file_exists($filePath)) {
            throw new FileException(sprintf('File "%s" missing.', basename($filePath)));
        }

        $handle = fopen($filePath, 'rb');
        if ($handle === false) {
            throw new FileException(sprintf('File "%s" can\'t be open.', basename($filePath)));
        }

        return $handle;
    }
