    /**
     * Get the decoration (i.e. color) setting for the Shell Output service.
     *
     * @return bool|null 3-state boolean corresponding to the current color mode
     */

    public function getOutputDecorated()
    {
        switch ($this->colorMode()) {
            case self::COLOR_MODE_AUTO:
                return $this->outputIsPiped() ? false : null;
            case self::COLOR_MODE_FORCED:
                return true;
            case self::COLOR_MODE_DISABLED:
                return false;
        }
    }
