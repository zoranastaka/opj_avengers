    /**
     * @return \Monolog\Logger
     * @throws Exception
     */

    private function getMonologLogger()
    {
        // The logging was refactored in Laravel 5.6
        if ($this->checkVersion('5.6')) {
            $logger = $this->app['log']->getLogger();
        } else {
            $logger = $this->app['log']->getMonolog();
        }

        if (get_class($logger) !== 'Monolog\Logger') {
            throw new Exception('Logger is not a Monolog\Logger instance');
        }

        return $logger;
    }
