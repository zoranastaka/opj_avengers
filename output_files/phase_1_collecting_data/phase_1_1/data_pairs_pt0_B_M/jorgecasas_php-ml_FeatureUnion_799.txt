    /**
     * @var Pipeline[]
     */

    public function __construct(array $pipelines)
    {
        if ($pipelines === []) {
            throw new InvalidArgumentException('At least one pipeline is required');
        }

        $this->pipelines = array_map(static function (Pipeline $pipeline): Pipeline {
            return $pipeline;
        }, $pipelines);
    }
