  /** @runInSeparateProcess */

  public function testInvalidConstructorPhp5()
  {
    if (class_exists('TypeError')) {
      $this->markTestSkipped('PHP 5 only');
    }

    set_error_handler('Google_ServiceTest::handlePhp5Error');

    $service = new TestService('foo');

    $this->assertEquals(
      'constructor must be array or instance of Google\Client',
      self::$errorMessage
    );
  }
