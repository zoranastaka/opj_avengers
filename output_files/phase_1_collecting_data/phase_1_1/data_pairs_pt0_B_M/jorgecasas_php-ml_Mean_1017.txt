    /**
     * @return float|mixed
     *
     * @throws InvalidArgumentException
     */

    public static function median(array $numbers)
    {
        self::checkArrayLength($numbers);

        $count = count($numbers);
        $middleIndex = (int) floor($count / 2);
        sort($numbers, SORT_NUMERIC);
        $median = $numbers[$middleIndex];

        if ($count % 2 === 0) {
            $median = ($median + $numbers[$middleIndex - 1]) / 2;
        }

        return $median;
    }
